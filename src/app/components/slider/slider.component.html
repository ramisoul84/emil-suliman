<div class="slider-container" 
     (mouseenter)="onMouseEnter()" 
     (mouseleave)="onMouseLeave()"
     [style.height]="effectiveConfig.height">
  
  <!-- Slides -->
  <div class="slides-wrapper">
    <div *ngFor="let slide of slides; let i = index" 
         #slide
         class="slide"
         [attr.data-slide-id]="slide.id"
         [class.active]="i === currentSlide"
         (click)="onSlideClick(slide)">
      
      <!-- Lottie Background Animation -->
      <ng-lottie *ngIf="slide.lottieAnimation && slide.lottiePosition === 'background'"
                 #lottieAnim
                 [options]="getLottieOptions(slide)"
                 (animationCreated)="onLottieAnimationCreated($event, slide.id)"
                 class="lottie-animation lottie-background">
      </ng-lottie>

      <!-- Image -->
      <img [src]="slide.src" [alt]="slide.alt || ''" class="slide-image">

      <!-- Lottie Foreground Animation -->
      <ng-lottie *ngIf="slide.lottieAnimation && slide.lottiePosition === 'foreground'"
                 #lottieAnim
                 [options]="getLottieOptions(slide)"
                 (animationCreated)="onLottieAnimationCreated($event, slide.id)"
                 class="lottie-animation lottie-foreground">
      </ng-lottie>

      <!-- Overlay -->
      <div *ngIf="effectiveConfig.overlay" 
           class="slide-overlay"
           [style.background]="slide.overlayColor || 'linear-gradient(45deg, rgba(0,0,0,0.4), rgba(0,0,0,0.2))'">
      </div>

      <!-- Content -->
      <div class="slide-content">
        <h2 *ngIf="slide.title" class="slide-title">{{ slide.title }}</h2>
        <p *ngIf="slide.description" class="slide-description">{{ slide.description }}</p>
      </div>

      <!-- Lottie Overlay Animation -->
      <ng-lottie *ngIf="slide.lottieAnimation && slide.lottiePosition === 'overlay'"
                 #lottieAnim
                 [options]="getLottieOptions(slide)"
                 (animationCreated)="onLottieAnimationCreated($event, slide.id)"
                 class="lottie-animation lottie-overlay">
      </ng-lottie>
    </div>
  </div>

  <!-- Navigation Arrows -->
  <div *ngIf="effectiveConfig.showArrows && slides.length > 1" class="navigation-arrows">
    <button class="arrow arrow-prev" (click)="prevSlide()" aria-label="Previous slide">
      ‹
    </button>
    <button class="arrow arrow-next" (click)="nextSlide()" aria-label="Next slide">
      ›
    </button>
  </div>

  <!-- Progress Bar -->
  <div *ngIf="effectiveConfig.showProgress && effectiveConfig.autoPlay" class="progress-bar">
    <div class="progress-fill" [style.width.%]="progress"></div>
  </div>

  <!-- Dots Navigation -->
  <div *ngIf="effectiveConfig.showDots && slides.length > 1" class="dots-navigation">
    <button *ngFor="let slide of slides; let i = index" 
            #dot
            class="dot"
            [class.active]="i === currentSlide"
            (click)="goToSlide(i)"
            [attr.aria-label]="'Go to slide ' + (i + 1)">
    </button>
  </div>
</div>